
<section class="contents-right">

    <div class="classes-curriculum">
        <div class="cnt-top">
            <h2 class="cnt-tit">교육과정</h2>
        </div>

      <v-app style="background-color:transparent">
        <div class="curriculum-list clearfix">
            <div class="list-group">
                <div v-for="(item, index) in makeEducationList" :key="index" class="curr-item">
                    <div class="fd-head">
                        <p class="fd-tit">{{ item.title }}</p>
                        <div class="fd-writer type2">
                            <p class="writer">
                                <span class="name" :class="memberLevelIcon(item.level)">{{ item.writer }}</span>
                            </p>
                        </div>
                    </div>
                    <div class="fd-cnt">
                        <p class="fd-txt">
                            <a href="#" @click.prevent="cardClickHandler( index )">요즘 여러분 덕분에우리 단원평가 거뜬히 준비하고 있어요. 거기에 문장제 학습!스쿨수학에 서 빼놓을수 없는 부분인데요. 우리 한번 열심히 해보아요.</a>
                        </p>
                    </div>
                    <div class="fd-foot">
                        <p class="en-count">총 {{ item.course_list.length }}회차 수업 등록</p>
                        <div class="fd-btn">
                            <div class="list-popup">

                                <!--<div class="list-popup-menu pos-right" style="transform:translate3d(87px, 0, 0)">
                                  <a href="" class="list-popup-item">반복 없음</a>
                                  <a href="" class="list-popup-item">매일</a>
                                  <a href="" class="list-popup-item">매주</a>
                                  <a href="" class="list-popup-item">매월</a>
                                  <a href="" class="list-popup-item">매년</a>
                                </div>-->

                              <!--  v-model 를 수정함 카트 v-model="item.isChk"  -->
                                <v-menu
                                        nudge-left="30px"
                                        origin="center top"
                                        v-model="item.isChk"
                                        transition="scale-transition"
                                        content-class="time-select-menu bg-white"
                                        min-width="180px"
                                        offset-y
                                        offset-x>
                                    <template v-slot:activator="{ on, attrs }">
                                        <button type="button" class="list-popup-btn"
                                                v-model="settingItemsModel[index].sItem"
                                                v-bind="attrs"
                                                v-on="on">
                                            <!-- <span>{{ getSelectedSettingMenuItem( index ) }}</span> -->
                                            <img :src="require('@/assets/images/more.svg')" class="sm" alt="">
                                        </button>
                                    </template>
                                    <v-list>
                                        <v-list-item
                                                v-for="( mMenu, mIdx ) in settingItemsModel[index].vo"
                                                :key="mIdx"
                                                @click="settingMenuClickHandler( index, mMenu )">
                                            <v-list-item-title>{{ mMenu }}</v-list-item-title>
                                        </v-list-item>
                                    </v-list>
                                </v-menu>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="curriculum-add">
                <button class="curriculum-add-btn" @click="isCreateClass = true"></button>
            </div>
        </div>
      </v-app>

    </div>


    <!-- start: 공통 팝업 / 파일명 : W.4.5.5.1 (교육과정 만들기) (4.5.5.1 ~ 4.5.5.1.1)-->
    <transition name="modal" >
        <modal v-if="isCreateClass" size="600px" body-padding="0" @modalClose="isCreateClass=false">
            <div slot="header">
                <!-- header custom coding-->
                <p class="popup-header-tit">새 교육과정 등록</p>
                <div class="popup-close">
                    <button class="close" @click="isCreateClass = false"><img :src="require('@/assets/images/close.svg')" alt=""></button>
                </div>
            </div>
            <div slot="body">
                <!-- body custom coding-->
                <div class="popup-form">
                    <div class="popup-form-top">
                        <div class="form-item post-classes selected"> <!-- class 선택 시 form-item에 selected 추가됨 -->
                            <p>
                                <span class="icon"><img :src="require('@/assets/images/bg-icon.png')" class="icon-img" alt=""></span>
                                <span class="gr-name">파파야초등학교</span>
                                <strong class="cls-name">꿈꾸는 5학년 1반</strong>
                            </p>
                        </div>
                        <div class="form-item">
                            <input type="text" class="form-control popup-type" placeholder="제목을 20자 이내로 작성해 주세요.">
                        </div>
                    </div>
                    <div class="popup-form-cnt">
                        <div class="form-item post-cnt" style="height:154px;">
                            <textarea class="form-textarea" placeholder="일정 내용을 작성해 주세요."></textarea>
                        </div>

                        <div class="add-curriculum bd-top">
                            <p class="tit">수업 설정</p>

                            <div class="add-curr-item">
                                <p class="add-curr-tit">수업 회차</p>
                                <div class="form-box">
                                    <div class="form-group">
                                        <input type="number" class="form-control" v-model.number="currListNum" @input="setCurriNum($event.target.value)">
                                    </div>
                                </div>
                            </div>
                            <div class="scroll-body" style="height:124px;">
                                <div v-for="(item, index) in currListNumModel" class="add-curr-item" :key="`currListNum-${index}`">
                                    <p class="add-curr-tit">
                                        <a href="#" @click="isClassCurr = true;countNum(index+1)">
                                            <span class="curr-num">{{ index+1 }} 회차</span>
                                            <span>새 교육과정 {{ index+1 }}</span>
                                        </a>
                                    </p>
                                    <div class="form-box">
                                        <div class="list-popup">
                                            <button type="button" class="list-popup-btn" @click="moreMenuToggle()"><img :src="require('@/assets/images/more.svg')" alt=""></button>
                                            <!-- 더보기 -->
                                            <div class="list-popup-menu pos-right" :class="{'active': isMoreMenu}" style="transform:translate3d(35px, 0, 0);">
                                                <button class="list-popup-item" value="0" >교육과정 수정</button>
                                                <button class="list-popup-item active" value="1" >교육과정 삭제</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="popup-form-btm">
                        <div class="form-add-btn">
                            <div class="form-temp-save"><a href="" class="txt-btn">임시저장</a></div>
                        </div>
                    </div>
                </div>
            </div>
            <div slot="footer">
                <!-- footer custom coding-->
                <div class="btn-group rt">
                    <button type="button" class="btn primary navi" disabled>등록</button>
                </div>
            </div>
        </modal>
    </transition>
    <!-- end: 공통 팝업 -->

    <!-- start: 공통 팝업 / 파일명 : W.4.5.5.2 (교육과정 만들기 - 수업내용입력) (4.5.5.2 ~ 4.5.5.2.2) -->
    <transition name="modal">
        <modal v-if="isClassCurr" size="540px" body-padding="0" @modalClose="isClassCurr=false">
            <div slot="header">
                <!-- header custom coding-->
                <div class="popup-icon edu"></div>
                <div class="popup-close">
                    <button class="close" @click="isClassCurr = false"><img :src="require('@/assets/images/close.svg')" alt=""></button>
                </div>
            </div>
            <div slot="body">
                <!-- body custom coding-->
                <div class="popup-cnt">
                    <p class="popup-txt type2">교육과정</p>
                    <h2 class="popup-tit pdb-0">{{this.countNumber}} 회차 수업</h2>
                </div>

                <div class="popup-form">
                    <div class="popup-form-top">
                        <div class="form-item">
                            <input type="text" class="form-control popup-type" placeholder="수업 제목을 20자 이내로 작성해 주세요.">
                        </div>
                    </div>
                    <div class="popup-form-cnt">
                        <div class="form-item">
                            <p>수업 날짜</p>
<!--                            <div class="form-box">-->
<!--                                <div class="form-group date">-->
<!--                                    <input type="text" class="form-control" size="10" value="2020. 2. 28">-->
<!--                                    <span class="date-area">2020. 2. 28</span>-->
<!--                                    <button type="button" class="btn form-btn form-calendar"></button>-->
<!--                                </div>-->
<!--                            </div>-->


                            <div class="form-box">
                                <div class="form-group date" style="display: inline-block;width:110px;">
                                    <v-menu
                                            ref="menu"
                                            v-model="menu1"
                                            :close-on-click="true"
                                            transition="scale-transition"
                                            offset-y
                                            min-width="auto">
                                        <template v-slot:activator="{ on, attrs }">
                                            <v-text-field
                                                    v-model="datePickerModel"
                                                    v-bind="attrs"
                                                    v-on="on" hide-details solo flat>
                                                <template v-slot:append>
                                                    <button type="button" class="btn form-btn form-calendar" v-on="on"></button>
                                                </template>
                                            </v-text-field>
                                        </template>
                                        <v-date-picker v-model="datePickerModel" no-title hide-details ></v-date-picker>
                                    </v-menu>
                                </div>

                                <div class="form-group time" v-if="!isTimeSelect" @click="isTimeSelect=true">
                                    <input type="text" class="time-control" size="12" value="오후 12시 00분">
                                    <button type="button" class="btn form-btn form-time"></button>
                                </div>

                                <div class="form-group time" style="display: inline-block;" v-else>
                                    <v-select :items="['오전', '오후'] " placeholder="오전" hide-details  style="display:inline-block;width:55px">
                                        <template v-slot:selection="{item, index}">
                                            <span style="font-size:14px;">{{item}}</span>
                                        </template>
                                    </v-select>
                                    <v-select :items="[ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'] " placeholder="12 시" hide-details   style="display:inline-block;width:55px">
                                        <template v-slot:selection="{item, index}">
                                            <span style="font-size:14px;">{{item}}시</span>
                                        </template>
                                    </v-select>
                                    <v-select :items="[ '5', '10','15', '20','25', '30','35', '40', '45', '50', '55', '00'] " placeholder="00 분"  hide-details   style="display:inline-block;width:55px">
                                        <template v-slot:selection="{item, index}">
                                            <span style="font-size:14px;">{{item}}분</span>
                                        </template>
                                    </v-select>
                                </div>
                            </div>



                        </div>
                        <div class="form-item">
                            <p>수업 시작 시간</p>
                            <div class="form-box">
                                <div class="form-group time">
                                    <input type="text" class="time-control no-time" size="8" value="시간 없음">
                                    <button type="button" class="btn form-btn form-time"></button>
                                </div>
                            </div>
                        </div>
                        <div class="form-item">
                            <p>수업 종료 시간</p>
                            <div class="form-box">
                                <div class="form-group time">
                                    <input type="text" class="time-control no-time" size="8" value="시간 없음">
                                    <button type="button" class="btn form-btn form-time"></button>
                                </div>
                            </div>
                        </div>
                        <div class="form-item post-cnt" style="height:120px;">
                            <textarea class="form-textarea" placeholder="수업 내용을 100자 이내로 작성해 주세요."></textarea>
                        </div>
                    </div>

                    <div class="popup-form-btm">
                        <div class="form-add-btn">
                            <ul class="clearfix">
                                <li><a href=""><img :src="require('@/assets/images/image.svg')" alt=""></a></li>
                                <li>
                                    <form method="post" enctype="multipart/form-data">
                                        <div>
                                            <label for="image_uploads" ><img :src="require('@/assets/images/file.svg')" alt=""></label>
                                            <input type="file" id="image_uploads" class="image_uploads_test" name="image_uploads" accept=".jpg, .jpeg, .png">
                                        </div>
                                    </form>
                                </li>
                            </ul>
                        </div>

                        <div class="preview">
                            <div class="add-file">

                                <div class="add-item-top">
                                    <p class="add-item-tit">첨부 파일 3</p>
                                    <div class="add-item-btn">
                                        <a href="" class="txt-btn">전체삭제</a>
                                    </div>
                                </div>

                                <ul class="add-file-list">
                                    <li class="list-item">
                                        <p>6학년 2학기 수학 II 3단원 .pdf</p>
                                        <a href="" class="add-file-delete"><img :src="require('@/assets/images/delete.svg')" alt=""></a>
                                    </li>
                                    <li class="list-item">
                                        <p>수학 II 3단원 정리 .hwp</p>
                                        <a href="" class="add-file-delete"><img :src="require('@/assets/images/delete.svg')" alt=""></a>
                                    </li>
                                    <li class="list-item">
                                        <p>수학 I 개념 정리.pdf</p>
                                        <a href="" class="add-file-delete"><img :src="require('@/assets/images/delete.svg')" alt=""></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div slot="footer">
                <!-- footer custom coding-->
                <div class="btn-group rt">
                    <button type="button" class="btn primary navi" disabled>완료</button>
                </div>
            </div>
        </modal>
    </transition>
    <!-- end: 공통 팝업 -->

    <!-- start: 공통 팝업 / 파일명 : W.4.5.5.3 (교육과정 - 상세) -->
    <transition name="modal">
        <modal v-if="isClassCurrMore" size="600px" body-padding="0" @modalClose="isClassCurrMore=false">
            <div slot="header">
                <!-- header custom coding-->
                <p class="popup-header-tit">{{ makeEducationList[classCardIndex].title }}</p>

                <div class="popup-btn">
                    <div class="list-popup mgl-20">
                        <button type="button" class="list-popup-btn" @click="moreMenuToggle()"><img :src="require('@/assets/images/more.svg')" alt=""></button>
                        <!-- 더보기 -->
                        <div class="list-popup-menu pos-right" :class="{'active': isMoreMenu}" style="transform:translate3d(35px, 0, 0);">
                            <button class="list-popup-item" value="0" @click>교육과정 수정</button>
                            <button class="list-popup-item active" value="1" @click>교육과정 삭제</button>
                        </div>
                    </div>
                </div>
            </div>
            <div slot="body">
                <!-- body custom coding-->
                <div class="popup-form">
                    <div class="popup-form-top">
                        <div class="form-item post-classes selected"> <!-- class 선택 시 form-item에 selected 추가됨 -->
                            <p>
                                <span class="icon"><img :src="getProfileImg(myClassHomeModel.image_url)" class="icon-img" alt=""></span>
                                <span class="gr-name">{{myClassHomeModel.g_name}}</span>
                                <strong class="cls-name">{{myClassHomeModel.name}}</strong>
                            </p>

                            <p class="post-writer">김미영선생님</p>
                        </div>
                    </div>
                </div>

                <div class="popup-feed-detail">
                    <div class="fd-cnt">
                        <p class="fd-txt">요즘 여러분 덕분에우리 단원평가 거뜬히 준비하고 있어요. 거기에 문장제 학습!스쿨수학에 서 빼놓을수 없는 부분인데요. 우리 한번 열심히 해보아요.</p>

                        <div class="fd-inner">
                            <div class="curriculum-list">
                                <div v-for="(item, index) in makeEducationList[this.classCardIndex].course_list" :key="index" class="curriculum-item">
                                    <span class="turn">{{ item.index }} 회차</span>
                                    <div class="curriculum-info">
                                        <a href="#" @click="isClassCurrDetail = true;classCurr(index)">
                                            <p class="subject-tit">{{ item.title }}</p>
                                            <div class="subject-schedule">
                                                <span>2019. 9. 1 수요일</span>
                                                <span>오전 10시 - 11시</span>
                                            </div>
                                            <div class="subject-sub">
                                                <span>이미지 2</span>
                                                <span>파일 1</span>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </modal>
    </transition>
    <!-- end: 공통 팝업 -->

    <!-- start: 공통 팝업 / 파일명 : W.4.5.5.3.1 (교육과정 - 상세) -->
    <transition name="modal">
        <modal v-if="isClassCurrDetail" size="600px" body-padding="0" @modalClose="isClassCurrDetail=false">
            <div slot="header">
                <!-- header custom coding-->
                <div class="popup-icon edu"></div>
                <div class="popup-close">
                    <button class="close" @click="isClassCurrDetail = false"><img :src="require('@/assets/images/close.svg')" alt=""></button>
                </div>
            </div>
            <div slot="body">
                <!-- body custom coding-->
                <div class="popup-cnt">
                    <p class="popup-txt type2">{{ makeEducationList[this.classCardIndex].title }}</p>
                    <h2 class="popup-tit pdb-0">{{ makeEducationList[this.classCardIndex].course_list[classCurrIndex].title }}</h2>
                </div>

                <div class="popup-form">
                    <div class="popup-form-top">
                        <div class="form-item pd-desc">
                            <ul class="feed-info period clearfix">
                                <li>2019. 9. 1 수요일</li>
                                <li>오전 10시 - 11시</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="popup-feed-detail">
                    <div class="fd-cnt">
                        <p class="fd-txt">
                            요즘 여러분 덕분에우리 단원평가 거뜬히 준비하고 있어요. 거기에 문장제 학습!스쿨수학에 서 빼놓을수 없는 부분인데요. 우리 한번 열심히 해보아요.
                        </p>

                        <div class="fd-inner">
                            <ul class="img-list clearfix">
                                <li><a href=""><img :src="require('@/assets/images/pic.png')" alt=""></a></li>
                                <li><a href=""><img :src="require('@/assets/images/pic2.png')" alt=""></a></li>
                                <li><a href=""><img :src="require('@/assets/images/pic3.png')" alt=""></a></li>
                            </ul>
                        </div>

                        <div class="fd-inner">
                            <p class="fd-inner-txt">첨부 파일 3</p>

                            <ul class="file-list clearfix">
                                <li>
                                    <a href="">첨부파일1.pdf</a>
                                </li>
                                <li>
                                    <a href="">첨부파일2.hwp</a>
                                </li>
                                <li>
                                    <a href="">첨부파일3.pdf</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </modal>
    </transition>
    <!-- end: 공통 팝업 -->
</section>

